<div class="container">
    <form [formGroup]="formularioCreado">
        <div class="form-group">
            <label>Nombre</label>
            <input class="form-control" type="text" formControlName="nombre">
            <div *ngIf="formularioCreado.controls['nombre'].invalid && formularioCreado.controls['nombre'].dirty" class="alert alert-danger" role="alert">
               <span *ngIf="formularioCreado.controls['nombre'].errors.required"> El nombre es requerido </span>
            </div>
        </div>
        <div class="form-group">
            <label>Correo</label>
            <input class="form-control" type="email" formControlName="correo">
            <div *ngIf="formularioCreado.controls['correo'].invalid && formularioCreado.controls['correo'].dirty">
                <div *ngIf="formularioCreado.controls['correo'].errors.required" class="alert alert-danger" role="alert">
                    El correo es requerido
                </div>
                <div *ngIf="formularioCreado.controls['correo'].errors.email" class="alert alert-danger" role="alert">
                    No parece un email valido
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Contraseña</label>
            <input class="form-control" type="password" formControlName="contrasena">
        </div>
        <div *ngIf="formularioCreado.controls['contrasena'].invalid &&  formularioCreado.controls['contrasena'].dirty">
            
            <div *ngIf="formularioCreado.controls['contrasena'].errors.required" class="alert alert-danger" role="alert">
                La contaseña es requerida
            </div>
            <div *ngIf="formularioCreado.controls['contrasena'].errors.minlength" class="alert alert-danger" role="alert">
                La contaseña debe tener minimo 8 caracteres
            </div>
        </div>
        <button *ngIf="esNuevo" [disabled] = "!formularioCreado.valid" class="btn btn-primary" (click)="agregar()">Agregar</button>
        <button *ngIf="!esNuevo" class="btn btn-danger" (click)="editar()">Actualizar</button>
    </form>
</div>

<div class="container">
    <div *ngFor="let listaUsuarios of usuario, let posicion = index" class="card text-center">
        <div class="card-header">
            Nombre: {{listaUsuarios.nombre}}
        </div>
        <div class="card-body">
            <h5 class="card-title"> Correo: {{listaUsuarios.correo}}</h5>
        </div>
        <button (click)="editarUsuario(posicion)">Editar</button>
    </div>
</div>